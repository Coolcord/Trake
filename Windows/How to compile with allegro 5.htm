<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<meta name="generator" content="MediaWiki 1.15.1" />
		<meta name="keywords" content="Windows, Visual Studio 2010 and Allegro 5,Allegro 5,Allegro 5 Tutorial" />
		<link rel="stylesheet" type="text/css" href="/extensions/Drafts/Drafts.css?2" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="Allegro Wiki (en)" />
		<link rel="alternate" type="application/rss+xml" title="Allegro Wiki RSS Feed" href="/index.php?title=Special:RecentChanges&amp;feed=rss" />
		<link rel="alternate" type="application/atom+xml" title="Allegro Wiki Atom Feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom" />
		<title>Windows, Visual Studio 2010 and Allegro 5 - Allegro Wiki</title>
		<link rel="stylesheet" href="/skins/common/shared.css?207" type="text/css" media="screen" />
		<link rel="stylesheet" href="/skins/common/commonPrint.css?207" type="text/css" media="print" />
		<link rel="stylesheet" href="/skins/monobook/main.css?207" type="text/css" media="screen" />
		<!--[if lt IE 5.5000]><link rel="stylesheet" href="/skins/monobook/IE50Fixes.css?207" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 5.5000]><link rel="stylesheet" href="/skins/monobook/IE55Fixes.css?207" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 6]><link rel="stylesheet" href="/skins/monobook/IE60Fixes.css?207" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 7]><link rel="stylesheet" href="/skins/monobook/IE70Fixes.css?207" type="text/css" media="screen" /><![endif]-->
		<link rel="stylesheet" href="/index.php?title=MediaWiki:Common.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" type="text/css" />
		<link rel="stylesheet" href="/index.php?title=MediaWiki:Print.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" type="text/css" media="print" />
		<link rel="stylesheet" href="/index.php?title=MediaWiki:Monobook.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" type="text/css" />
		<link rel="stylesheet" href="/index.php?title=-&amp;action=raw&amp;maxage=18000&amp;gen=css" type="text/css" />
		<!--[if lt IE 7]><script type="text/javascript" src="/skins/common/IEFixes.js?207"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->

		<script type= "text/javascript">/*<![CDATA[*/
		var skin = "monobook";
		var stylepath = "/skins";
		var wgArticlePath = "/index.php?title=$1";
		var wgScriptPath = "";
		var wgScript = "/index.php";
		var wgVariantArticlePath = false;
		var wgActionPaths = {};
		var wgServer = "http://wiki.allegro.cc";
		var wgCanonicalNamespace = "";
		var wgCanonicalSpecialPageName = false;
		var wgNamespaceNumber = 0;
		var wgPageName = "Windows,_Visual_Studio_2010_and_Allegro_5";
		var wgTitle = "Windows, Visual Studio 2010 and Allegro 5";
		var wgAction = "view";
		var wgArticleId = "1259";
		var wgIsArticle = true;
		var wgUserName = null;
		var wgUserGroups = null;
		var wgUserLanguage = "en";
		var wgContentLanguage = "en";
		var wgBreakFrames = false;
		var wgCurRevisionId = 6488;
		var wgVersion = "1.15.1";
		var wgEnableAPI = true;
		var wgEnableWriteAPI = true;
		var wgSeparatorTransformTable = ["", ""];
		var wgDigitTransformTable = ["", ""];
		var wgRestrictionEdit = [];
		var wgRestrictionMove = [];
		/*]]>*/</script>

		<script type="text/javascript" src="/skins/common/wikibits.js?207"><!-- wikibits js --></script>
		<!-- Head Scripts -->
		<script type="text/javascript" src="/skins/common/ajax.js?207"></script>
<script type="text/javascript">/*<![CDATA[*/
var wgDraftsStyleVersion = "2";

/*]]>*/</script>		<script type="text/javascript" src="/extensions/Drafts/Drafts.js?2"></script><style type="text/css">/*<![CDATA[*/
.source-c {line-height: normal;}
.source-c li, .source-c pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for c
 * CSS class: source-c, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.source-c .de1, .source-c .de2 {font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;}
.source-c  {font-family: monospace;}
.source-c .imp {font-weight: bold; color: red;}
.source-c li, .source-c li.li1 {font-weight: normal;}
.source-c li.li2 {font-weight: bold;}
.source-c .kw1 {color: #b1b100;}
.source-c .kw2 {color: #000000; font-weight: bold;}
.source-c .kw3 {color: #000066;}
.source-c .kw4 {color: #993333;}
.source-c .co1 {color: #666666; font-style: italic;}
.source-c .co2 {color: #339933;}
.source-c .coMULTI {color: #808080; font-style: italic;}
.source-c .es0 {color: #000099; font-weight: bold;}
.source-c .br0 {color: #009900;}
.source-c .sy0 {color: #339933;}
.source-c .st0 {color: #ff0000;}
.source-c .nu0 {color: #cc66cc;}
.source-c .me1 {color: #202020;}
.source-c .me2 {color: #202020;}
.source-c .ln-xtra, .source-c li.ln-xtra, .source-c div.ln-xtra {background-color: #ffc;}
.source-c span.xtra { display:block; }

/*]]>*/
</style>
<style type="text/css">/*<![CDATA[*/
@import "/index.php?title=MediaWiki:Geshi.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=18000";
/*]]>*/
</style>		<script type="text/javascript" src="/index.php?title=-&amp;action=raw&amp;gen=js&amp;useskin=monobook"><!-- site js --></script>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-17252358-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

	</head>
<body class="mediawiki ltr ns-0 ns-subject page-Windows_Visual_Studio_2010_and_Allegro_5 skin-monobook">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>

      <!-- adsense -->
      <!--div class="adsense" style="text-align:center;" -->
      <!--script type="text/javascript" --><!--
google_ad_client = "pub-7342928389312649";
/* TopBannerTextImageAwiki, 468x60, created 11/7/08 */
google_ad_slot = "4362221279";
google_ad_width = 468;
google_ad_height = 60;
//-->
<!--/script-->
<!--script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script-->
      <!-- end adsense -->
      <!--/div-->

		<div style="text-align: center;"><a href="http://itunes.apple.com/us/app/monster-rpg-2/id358610619?mt=8"><img src="monster2_banner.png"/></a></div>
			<!-- google_ad_section_start -->
		<h1 id="firstHeading" class="firstHeading">Windows, Visual Studio 2010 and Allegro 5</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Allegro Wiki</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>			<!-- start content -->
			<table id="toc" class="toc" summary="Contents"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="#About"><span class="tocnumber">1</span> <span class="toctext">About</span></a></li>
<li class="toclevel-1"><a href="#Installing_Microsoft_Visual_Studio_2010_Express"><span class="tocnumber">2</span> <span class="toctext">Installing Microsoft Visual Studio 2010 Express</span></a>
<ul>
<li class="toclevel-2"><a href="#Download"><span class="tocnumber">2.1</span> <span class="toctext">Download</span></a></li>
<li class="toclevel-2"><a href="#Run_the_MSVC_2010_Installer"><span class="tocnumber">2.2</span> <span class="toctext">Run the MSVC 2010 Installer</span></a></li>
<li class="toclevel-2"><a href="#Visual_C.2B.2B_2010_is_Ready"><span class="tocnumber">2.3</span> <span class="toctext">Visual C++ 2010 is Ready</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Installing_Allegro_5"><span class="tocnumber">3</span> <span class="toctext">Installing Allegro 5</span></a>
<ul>
<li class="toclevel-2"><a href="#Download_2"><span class="tocnumber">3.1</span> <span class="toctext">Download</span></a></li>
<li class="toclevel-2"><a href="#Install_Allegro_5_Headers_and_Libraries"><span class="tocnumber">3.2</span> <span class="toctext">Install Allegro 5 Headers and Libraries</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Using_Allegro_5"><span class="tocnumber">4</span> <span class="toctext">Using Allegro 5</span></a>
<ul>
<li class="toclevel-2"><a href="#Create_a_New_Project"><span class="tocnumber">4.1</span> <span class="toctext">Create a New Project</span></a></li>
<li class="toclevel-2"><a href="#Add_Some_Source_Code"><span class="tocnumber">4.2</span> <span class="toctext">Add Some Source Code</span></a></li>
<li class="toclevel-2"><a href="#Setup_Project_For_Allegro_5"><span class="tocnumber">4.3</span> <span class="toctext">Setup Project For Allegro 5</span></a></li>
<li class="toclevel-2"><a href="#Build_Your_Project"><span class="tocnumber">4.4</span> <span class="toctext">Build Your Project</span></a></li>
<li class="toclevel-2"><a href="#Run_Your_Project"><span class="tocnumber">4.5</span> <span class="toctext">Run Your Project</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Static_linking"><span class="tocnumber">5</span> <span class="toctext">Static linking</span></a></li>
<li class="toclevel-1"><a href="#What.27s_Next.3F"><span class="tocnumber">6</span> <span class="toctext">What's Next?</span></a></li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<a name="About" id="About"></a><h1> <span class="mw-headline"> About </span></h1>
<p>This guide explains how to get up and running with <a href="/index.php?title=Allegro_5" title="Allegro 5" class="mw-redirect">Allegro 5</a>.  This setup assumes that there is no existing compiler installed. It is recommended to have a good foundation with C/C++ before starting with Allegro.  A Microsoft Visual Studio 2010 installation guide is included.   If Visual Studio is already installed,  goto the Installing Allegro 5 section.
</p><p>We will step through the process of installing Microsoft Visual Studio 2010 Express, which is a free and featured C/C++ IDE from Microsoft. After that, we will download and install Allegro 5, create a new project, and build a small Allegro 5 example.
</p><p>As a note, when you see "5.0.<b>x</b>" in this article, the <b>x</b> is to be replaced by your current Allegro sub-version.
</p>
<a name="Installing_Microsoft_Visual_Studio_2010_Express" id="Installing_Microsoft_Visual_Studio_2010_Express"></a><h1> <span class="mw-headline"> Installing Microsoft Visual Studio 2010 Express </span></h1>
<a name="Download" id="Download"></a><h3> <span class="mw-headline"> Download </span></h3>
<div class="thumb tright"><div class="thumbinner" style="width:182px;"><a href="/index.php?title=File:Download_MSVC2010.png" class="image" title="Downloading MSVC 2010."><img alt="Screenshot of the MSVC 2010 download link." src="/pub/thumb/9/96/Download_MSVC2010.png/180px-Download_MSVC2010.png" width="180" height="74" border="0" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/index.php?title=File:Download_MSVC2010.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div>Downloading MSVC 2010.</div></div></div>
<p>Download Visual C++ 2010 Express from Microsoft's website. It is free to download and use, and works great with Allegro 5:
<a href="http://www.microsoft.com/visualstudio/eng/products/visual-studio-2010-express" class="external text" title="http://www.microsoft.com/visualstudio/eng/products/visual-studio-2010-express" rel="nofollow">Microsoft Visual C++ 2010 Express(MSVC)</a>
</p>
<div style="clear:both"></div>
<a name="Run_the_MSVC_2010_Installer" id="Run_the_MSVC_2010_Installer"></a><h3> <span class="mw-headline"> Run the MSVC 2010 Installer </span></h3>
<div class="thumb tright"><div class="thumbinner" style="width:182px;"><a href="/index.php?title=File:MSVC_2010_install_screenshot.png" class="image" title="Installing MSVC 2010."><img alt="Screenshot of the MSVC 2010 installation." src="/pub/thumb/a/ad/MSVC_2010_install_screenshot.png/180px-MSVC_2010_install_screenshot.png" width="180" height="162" border="0" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/index.php?title=File:MSVC_2010_install_screenshot.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div>Installing MSVC 2010.</div></div></div>
<p>Continue through the setup.
</p>
<div style="clear:both"></div>
<a name="Visual_C.2B.2B_2010_is_Ready" id="Visual_C.2B.2B_2010_is_Ready"></a><h3> <span class="mw-headline"> Visual C++ 2010 is Ready </span></h3>
<div class="thumb tright"><div class="thumbinner" style="width:182px;"><a href="/index.php?title=File:MSVS2010_Start_Page.png" class="image" title="Visual C 2010 Start Page."><img alt="Screenshot of the MSVC 2010 Start Page." src="/pub/thumb/c/c6/MSVS2010_Start_Page.png/180px-MSVS2010_Start_Page.png" width="180" height="109" border="0" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/index.php?title=File:MSVS2010_Start_Page.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div>Visual C 2010 Start Page.</div></div></div>
<p>You should now be able to start Microsoft Visual C++ 2010 Express, and see the Start Page.
</p>
<div style="clear:both"></div>
<p><br />
</p>
<a name="Installing_Allegro_5" id="Installing_Allegro_5"></a><h1> <span class="mw-headline"> Installing Allegro 5 </span></h1>
<a name="Download_2" id="Download_2"></a><h3> <span class="mw-headline"> Download </span></h3>
<p>Download the latest version of Allegro 5 from <a href="http://www.allegro.cc/files/" class="external text" title="http://www.allegro.cc/files/" rel="nofollow">Allegro.cc's download page</a>.
</p><p>Be sure to select the binary version that corresponds with your version of MSVC.
</p><p><i>This tutorial may reference an older version number than what is available on that page. While following the instructions, if you copy and paste something with a version number, be sure to update it to reflect the version you downloaded.</i>
</p><p><br />
</p>
<a name="Install_Allegro_5_Headers_and_Libraries" id="Install_Allegro_5_Headers_and_Libraries"></a><h3> <span class="mw-headline"> Install Allegro 5 Headers and Libraries </span></h3>
<p>Open <code>allegro-5.0.<b>x</b>-msvc-10.0.zip</code> and extract the folders <code>include</code>, <code>lib</code> and <code>bin</code> to some place of your choosing. We will assume you've chosen <tt>c:\allegro</tt> as the base location for those three folders. We will later add this path to our project so VC can find Allegro.
</p><p><i>Note: Never copy anything into a system folder (like a path starting with <tt>C:\Program Files</tt> or <tt>C:\Windows</tt>).</i> Those locations should generally be considered read-only unless using a proper installation "wizard." Keeping Allegro in its own folder will help you keep track of which version(s) you have installed. Also note that copying a DLL into <tt>system32</tt> is not proper because a) you may overwrite an incompatible DLL and b) it's not even the right location on 64-bit systems.
</p><p><br />
</p>
<a name="Using_Allegro_5" id="Using_Allegro_5"></a><h1> <span class="mw-headline"> Using Allegro 5 </span></h1>
<a name="Create_a_New_Project" id="Create_a_New_Project"></a><h3> <span class="mw-headline"> Create a New Project </span></h3>
<div class="thumb tright"><div class="thumbinner" style="width:182px;"><a href="/index.php?title=File:Create_Empty_MSVC2010_Project.png" class="image" title="Creating a new MSVC 2010 Project."><img alt="Screenshot. Creation of an empty MSVC 2010 project." src="/pub/thumb/0/0c/Create_Empty_MSVC2010_Project.png/180px-Create_Empty_MSVC2010_Project.png" width="180" height="124" border="0" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/index.php?title=File:Create_Empty_MSVC2010_Project.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div>Creating a new MSVC 2010 Project.</div></div></div>
<p>Start Microsoft Visual C++ 2010 Express.
</p><p>Click <b>New Project</b> on the Start Page.
</p><p>Make sure <b>Visual C++</b> is selected on the left. Now select <b>Empty Project</b> in the middle. Type a name for your project at the bottom, and feel free to change where your project is located. Click <b>Ok</b> to create your project.
</p>
<div style="clear:both"></div>
<a name="Add_Some_Source_Code" id="Add_Some_Source_Code"></a><h3> <span class="mw-headline"> Add Some Source Code </span></h3>
<div class="thumb tright"><div class="thumbinner" style="width:182px;"><a href="/index.php?title=File:MSVC2010_Add_New_Item.png" class="image" title="Add New Item..."><img alt="Screenshot. Selecting Add New Item for a MSVC 2010 Project." src="/pub/thumb/9/97/MSVC2010_Add_New_Item.png/180px-MSVC2010_Add_New_Item.png" width="180" height="168" border="0" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/index.php?title=File:MSVC2010_Add_New_Item.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div>Add New Item...</div></div></div>
<div class="thumb tright"><div class="thumbinner" style="width:182px;"><a href="/index.php?title=File:MSVC_2010_Creating_Blank_Maincpp.png" class="image" title="Create a blank C++ file called main.cpp."><img alt="Screenshot. Creating a blank C++ file called main.cpp." src="/pub/thumb/f/f7/MSVC_2010_Creating_Blank_Maincpp.png/180px-MSVC_2010_Creating_Blank_Maincpp.png" width="180" height="124" border="0" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/index.php?title=File:MSVC_2010_Creating_Blank_Maincpp.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div>Create a blank C++ file called <code>main.cpp</code>.</div></div></div>
<div class="thumb tright"><div class="thumbinner" style="width:182px;"><a href="/index.php?title=File:Allegro5_MSVC2010_Simple_maincpp.png" class="image" title="main.cpp"><img alt="Screenshot of the basic Allegro 5 MSVC 2010 project, including main.cpp." src="/pub/thumb/8/8a/Allegro5_MSVC2010_Simple_maincpp.png/180px-Allegro5_MSVC2010_Simple_maincpp.png" width="180" height="218" border="0" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/index.php?title=File:Allegro5_MSVC2010_Simple_maincpp.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div><code>main.cpp</code></div></div></div>
<p>Just to get you started, we will add some simple code to your project that initializes the Allegro 5 library and opens a window.
</p><p>Right click your project, under <b>Solution Explorer</b> on the right, and select <b>Add-&gt;New Item</b>...
</p><p>Make sure <b>Visual C++</b> is selected on the left. Select <b>C++ File (.cpp)</b> in the middle, and name your file <code>main.cpp</code>. Click <b>Add</b>.
</p><p>Now copy and paste the following code into your new file:
</p>
<div dir="ltr" style="text-align: left;"><div class="source-c" style="font-family: monospace;"><pre><span class="co2">#include &lt;stdio.h&gt;</span>
<span class="co2">#include &lt;allegro5/allegro.h&gt;</span>
&nbsp;
<span class="kw4">int</span> main<span class="br0">&#40;</span><span class="kw4">int</span> argc<span class="sy0">,</span> <span class="kw4">char</span> <span class="sy0">**</span>argv<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
   ALLEGRO_DISPLAY <span class="sy0">*</span>display <span class="sy0">=</span> <span class="kw2">NULL</span><span class="sy0">;</span>
&nbsp;
   <span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span>al_init<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
      fprintf<span class="br0">&#40;</span>stderr<span class="sy0">,</span> <span class="st0">&quot;failed to initialize allegro!<span class="es0">\n</span>&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
      <span class="kw1">return</span> <span class="nu0">-1</span><span class="sy0">;</span>
   <span class="br0">&#125;</span>
&nbsp;
   display <span class="sy0">=</span> al_create_display<span class="br0">&#40;</span><span class="nu0">640</span><span class="sy0">,</span> <span class="nu0">480</span><span class="br0">&#41;</span><span class="sy0">;</span>
   <span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span>display<span class="br0">&#41;</span> <span class="br0">&#123;</span>
      fprintf<span class="br0">&#40;</span>stderr<span class="sy0">,</span> <span class="st0">&quot;failed to create display!<span class="es0">\n</span>&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
      <span class="kw1">return</span> <span class="nu0">-1</span><span class="sy0">;</span>
   <span class="br0">&#125;</span>
&nbsp;
   al_clear_to_color<span class="br0">&#40;</span>al_map_rgb<span class="br0">&#40;</span><span class="nu0">0</span><span class="sy0">,</span><span class="nu0">0</span><span class="sy0">,</span><span class="nu0">0</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
   al_flip_display<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
   al_rest<span class="br0">&#40;</span><span class="nu0">10.0</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
   al_destroy_display<span class="br0">&#40;</span>display<span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
   <span class="kw1">return</span> <span class="nu0">0</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre></div></div>
<p><br />
Save <code>main.cpp</code>.
</p>
<div style="clear:both"></div>
<a name="Setup_Project_For_Allegro_5" id="Setup_Project_For_Allegro_5"></a><h3> <span class="mw-headline"> Setup Project For Allegro 5 </span></h3>
<div class="thumb tright"><div class="thumbinner" style="width:182px;"><a href="/index.php?title=File:Allegro5_MSVC2010_Project_Properties.png" class="image" title="Project Properties."><img alt="Screenshot. Selecting Project Properties in MSVC 2010." src="/pub/thumb/b/bd/Allegro5_MSVC2010_Project_Properties.png/180px-Allegro5_MSVC2010_Project_Properties.png" width="180" height="133" border="0" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/index.php?title=File:Allegro5_MSVC2010_Project_Properties.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div>Project Properties.</div></div></div>
<div class="thumb tright"><div class="thumbinner" style="width:182px;"><a href="/index.php?title=File:Allegro5_MSVC2010_Setting_Up_Linker.png" class="image" title="Adding Allegro 5 to the Additional Dependencies."><img alt="Screenshot. Updating Additional Dependencies in MSVC 2010 for Allegro 5." src="/pub/thumb/8/83/Allegro5_MSVC2010_Setting_Up_Linker.png/180px-Allegro5_MSVC2010_Setting_Up_Linker.png" width="180" height="127" border="0" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/index.php?title=File:Allegro5_MSVC2010_Setting_Up_Linker.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div>Adding Allegro 5 to the Additional Dependencies.</div></div></div>
<p>For any project you create that uses Allegro 5, you must tell Visual C++ to link your project with the Allegro 5 library.
</p><p>Right click your project under <b>Solution Explorer</b> on the right. Select <b>Properties</b>.
</p>
<ul><li> Under <b>Configuration Properties-&gt;C/C++-&gt;General</b>, enter <tt>c:\allegro\include</tt> in <b>Additional Include Directories</b>.
</li></ul>
<ul><li> Under <b>Configuration Properties-&gt;Linker-&gt;General</b>, enter <tt>c:\allegro\lib</tt> in <b>Additional Library Directories</b>.
</li></ul>
<ul><li> Under <b>Configuration Properties-&gt;Linker-&gt;Input</b>, append <tt>allegro-5.0.<b>x</b>-monolith-md-debug.lib</tt> to <b>Additional Dependencies</b>. 
</li></ul>
<ul><li> Under <b>Configuration Properties-&gt;Debugging</b>, enter <tt>PATH=c:\allegro\bin;%PATH%</tt> in <b>Environment</b>.
</li></ul>
<ul><li> Click <b>Apply</b>.
</li></ul>
<p>Visual C++ can now link your project with the Allegro 5 library.
</p><p>You should now select the "Release" configuration (upper left corner) and repeat the steps with one minor change: use the non-debug library <tt>allegro-5.0.<b>x</b>-monolith-md.lib</tt>.
</p><p>The monolith dll has the main Allegro module and all addons bundled into one file. If instead, you only want to add the main Allegro library and the ones for the addons you use, in order to save space, you need to add <tt>allegro-5.0.<b>x</b>-md-debug.lib</tt> as well as <tt>allegro_(addon)-5.0.<b>x</b>-md.debug.lib</tt>.
</p>
<div style="clear:both"></div>
<a name="Build_Your_Project" id="Build_Your_Project"></a><h3> <span class="mw-headline"> Build Your Project </span></h3>
<div class="thumb tright"><div class="thumbinner" style="width:182px;"><a href="/index.php?title=File:Allegro5_MSVC2010_Successful_Compile.png" class="image" title="Successful Build."><img alt="Screenshot of a successful MSVC 2010 compile." src="/pub/thumb/d/d5/Allegro5_MSVC2010_Successful_Compile.png/180px-Allegro5_MSVC2010_Successful_Compile.png" width="180" height="132" border="0" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/index.php?title=File:Allegro5_MSVC2010_Successful_Compile.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div>Successful Build.</div></div></div>
<p>Now let's have the Visual C++ compiler turn your beautiful new code into a program!
</p><p>Simply click the <b>Debug</b> menu at the top, and select <b>Build Solution</b>
</p><p>If everything has gone well so far, you should see a successful message at the bottom of the MSVC 2010 window.
</p>
<div style="clear:both"></div>
<a name="Run_Your_Project" id="Run_Your_Project"></a><h3> <span class="mw-headline"> Run Your Project </span></h3>
<div class="thumb tright"><div class="thumbinner" style="width:182px;"><a href="/index.php?title=File:Allegro5_MSVC2010_Simple_Project_Running.png" class="image" title="Your beautiful black window!"><img alt="Screenshot of the simple Allegro 5 project running under MSVC 2010." src="/pub/thumb/3/3b/Allegro5_MSVC2010_Simple_Project_Running.png/180px-Allegro5_MSVC2010_Simple_Project_Running.png" width="180" height="115" border="0" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/index.php?title=File:Allegro5_MSVC2010_Simple_Project_Running.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div>Your beautiful black window!</div></div></div>
<p>Now to actually run your shiny new Allegro 5 program. Click the <b>Debug</b> menu at the top and select <b>Start Debugging</b>.
</p><p>A black window should show up.
</p><p>That is your first Allegro 5 window! It does not do much right now. It will display for 10 seconds, and then close automatically.
</p>
<div style="clear:both"></div>
<a name="Static_linking" id="Static_linking"></a><h1> <span class="mw-headline"> Static linking </span></h1>
<p>But wait, this method is for dynamic linking. What if you want it so MSVCR100.dll and the Allegro libraries come packaged with the executable? You'll have to change some things. You can do this just for the Release configuration, no need to do it for the Debug one.
</p>
<ul><li>Add the following libraries to the linker in Configuration Properties-&gt;Linker-&gt;Input:
<ul><li>(Your standard Allegro library(ies), but with the -static-mt suffix. So, for instance, <tt>allegro_image-5.0.<b>x</b>-static-mt.lib</tt>. This can be the monolith dll, or all addons separated.)
</li><li>dumb-0.9.3-static-mt.lib
</li><li>freetype-2.4.8-static-mt.lib
</li><li>libFLAC-1.2.1-static-mt.lib
</li><li>libogg-1.2.1-static-mt.lib
</li><li>libvorbis-1.3.2-static-mt.lib
</li><li>libvorbisfile-1.3.2-static-mt.lib
</li><li>openal-1.14-static-mt.lib
</li><li>zlib-1.2.5-static-mt.lib
</li><li>winmm.lib
</li><li>opengl32.lib
</li><li>gdiplus.lib
</li><li>psapi.lib
</li><li>shlwapi.lib
</li></ul>
</li><li>On the Configuration Properties-&gt;Linker-&gt;Input dialog box, leave the "inherit from parent or project defaults" option checked.
</li><li>In Configuration Properties-&gt;C/C++-&gt;Code Generation-&gt;Runtime Library, set that to "/MT" (or "/MTd" for the Debug configuration).
</li><li>In Configuration Properties-&gt;C/C++-&gt;Preprocessor-&gt;Preprocessor Definitions, add <tt>ALLEGRO_STATICLINK</tt> to the list.
<ul><li>Alternately, add <tt>#define ALLEGRO_STATICLINK</tt> to the top of your main file, before you include anything Allegro-related.
</li></ul>
</li></ul>
<p>This option is sometimes preferred, given that with dynamic linking, you'll have to distribute the dlls with the executable. This isn't normally a problem, but given that there are 2 versions of MSVCR100.dll, the 32-bit and 64-bit one, you can't distribute them both (as they have the same name).
</p><p>You might want to see if it runs on a machine that doesn't have the Visual C++ Runtimes nor Allegro installed, to see if this single executable can run without the need of any .dll file. There's always a chance something can go wrong.
</p><p>You'll need to have the Microsoft SDKs installed in order to compile like this. In addition, if you aren't going to use audio on your program, you won't need libraries like libogg or libvorbis, so if you want to save space, remove some libraries that you think aren't needed, and see if it compiles.
</p>
<a name="What.27s_Next.3F" id="What.27s_Next.3F"></a><h1> <span class="mw-headline"> What's Next? </span></h1>
<p>Follow along with the <a href="/index.php?title=Allegro_5_Tutorial" title="Allegro 5 Tutorial" class="mw-redirect">Allegro 5 Tutorial</a> to learn how to do more with the Allegro 5, and eventually make your own video game!
</p>
<!-- 
NewPP limit report
Preprocessor node count: 37/1000000
Post-expand include size: 240/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key awiki:pcache:idhash:1259-0!1!0!!en!2!edit=0 and timestamp 20140726165025 -->
<div class="printfooter">
Retrieved from "<a href="http://wiki.allegro.cc/index.php?title=Windows,_Visual_Studio_2010_and_Allegro_5">http://wiki.allegro.cc/index.php?title=Windows,_Visual_Studio_2010_and_Allegro_5</a>"</div>
						<!-- end content -->
						<div class="visualClear"></div>
		</div>
   <!-- google_ad_section_end -->
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
	
				 <li id="ca-nstab-main" class="selected"><a href="/index.php?title=Windows,_Visual_Studio_2010_and_Allegro_5" title="View the content page [c]" accesskey="c">Page</a></li>
				 <li id="ca-talk"><a href="/index.php?title=Talk:Windows,_Visual_Studio_2010_and_Allegro_5" title="Discussion about the content page [t]" accesskey="t">Talk</a></li>
				 <li id="ca-viewsource"><a href="/index.php?title=Windows,_Visual_Studio_2010_and_Allegro_5&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li>
				 <li id="ca-history"><a href="/index.php?title=Windows,_Visual_Studio_2010_and_Allegro_5&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></li>			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="/index.php?title=Special:UserLogin&amp;returnto=Windows,_Visual_Studio_2010_and_Allegro_5" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in / create account</a></li>
			</ul>
		</div>
	</div>

	<div class="portlet" id="p-logo">
		<a style="background-image: url(/pub/e/e2/Alex-logo.png);" href="/index.php?title=Main_Page" title="Visit the main page [z]" accesskey="z"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class='generated-sidebar portlet' id='p-navigation'>
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage-label"><a href="/index.php?title=Main_Page">Home</a></li>
				<li id="n-allegro5"><a href="/index.php?title=Getting_Started">Allegro 5</a></li>
				<li id="n-allegro4"><a href="/index.php?title=Allegro_4">Allegro 4</a></li>
				<li id="n-gameprogramming"><a href="/index.php?title=Game_Programming">Game Programming</a></li>
				<li id="n-randompage"><a href="/index.php?title=Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
				<li id="n-sitesupport"><a href="/index.php?title=Allegro_Wiki:Site_support">Support the Wiki</a></li>
				<li id="n-help"><a href="http://en.wikipedia.org/wiki/Help:Contents" title="The place to find out">Help</a></li>
			</ul>
		</div>
	</div>
	<div class='generated-sidebar portlet' id='p-stuff'>
		<h5>stuff</h5>
		<div class='pBody'>
			<ul>
				<li id="n-recentchanges"><a href="/index.php?title=Special:RecentChanges" title="The list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
				<li id="n-News"><a href="/index.php?title=Allegro_Wiki:News">News</a></li>
				<li id="n-allegrocc"><a href="http://www.allegro.cc">Allegro.cc</a></li>
			</ul>
		</div>
	</div>

	<!-- begin of banner1 -->
	<div class='generated-sidebar portlet'>
	<h5>Adsense</h5>
	<div class="pBody">
	<!--a href="&amp;lt;sidebar-banner1-url&amp;gt;">
	<img width="100%" title="&amp;lt;sidebar-banner1-alttext&amp;gt;" 
		alt="&amp;lt;sidebar-banner1-alttext&amp;gt;" 
		src="&amp;lt;sidebar-banner1-imgsrc&amp;gt;" /></a-->
<script type="text/javascript"><!--
google_ad_client = "pub-7342928389312649";
/* LeftNavTextAwiki, 120x240, created 11/2/08 */
google_ad_slot = "5463067301";
google_ad_width = 120;
google_ad_height = 240;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
	</div></div>
	<!-- end of banner1 -->

	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/index.php" id="searchform"><div>
				<input type='hidden' name="title" value="Special:Search"/>
				<input id="searchInput" name="search" type="text" title="Search Allegro Wiki [f]" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" title="Go to a page with this exact name if exists" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" id="mw-searchButton" value="Search" title="Search the pages for this text" />
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="/index.php?title=Special:WhatLinksHere/Windows,_Visual_Studio_2010_and_Allegro_5" title="List of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="/index.php?title=Special:RecentChangesLinked/Windows,_Visual_Studio_2010_and_Allegro_5" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
<li id="t-specialpages"><a href="/index.php?title=Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</a></li>
				<li id="t-print"><a href="/index.php?title=Windows,_Visual_Studio_2010_and_Allegro_5&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>				<li id="t-permalink"><a href="/index.php?title=Windows,_Visual_Studio_2010_and_Allegro_5&amp;oldid=6488" title="Permanent link to this revision of the page">Permanent link</a></li>			</ul>
		</div>
	</div>

	<!-- begin of featured game banner -->
	<div class='generated-sidebar portlet'>
		<h5>Featured Game</h5>
		<div class="pBody">
			<a href="http://itunes.apple.com/us/app/monster-rpg-2/id358610619?mt=8">
				<center>Monster RPG 2</center>
				<img width="100%" title="featured game" alt="featured game" src="featured/featured_monster2.png"/>
			<center>Got an iPhone or iPod Touch? Get Game!</center></a>
		</div>
	</div>

		</div><!-- end of the left (by default at least) column -->

			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="/skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>
			<ul id="f-list">
					<li id="lastmod"> This page was last modified on March 4, 2013, at 21:47.</li>
					<li id="viewcount">This page has been accessed 119,630 times.</li>
					<li id="privacy"><a href="/index.php?title=Allegro_Wiki:Privacy_policy" title="Allegro Wiki:Privacy policy">Privacy policy</a></li>
					<li id="about"><a href="/index.php?title=Allegro_Wiki:About" title="Allegro Wiki:About">About Allegro Wiki</a></li>
					<li id="disclaimer"><a href="/index.php?title=Allegro_Wiki:General_disclaimer" title="Allegro Wiki:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
</div>

		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
<!-- Served in 0.137 secs. --></body></html>
